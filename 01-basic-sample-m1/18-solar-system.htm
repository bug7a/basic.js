<!DOCTYPE html>
<html lang="en">

<head>

    <title>Sample 2 - Solar System</title>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">

    <!-- LIBRARY FILES -->
    <link rel="preload" href="../basic/font/open-sans/OpenSans-Regular.ttf" as="font" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="../basic/basic.min.css">
    <script src="../basic/basic.min.js" type="text/javascript" charset="utf-8"></script>

    <script>

        // VARIABLES
        let sun;
        let planets = [];
        // Planet data: distance from center, size, speed, color, current angle
        const planetData = [
            { dist: 70, size: 10, speed: 0.04, color: "#A6A6A6", angle: 0 },   // Mercury-like
            { dist: 100, size: 18, speed: 0.025, color: "#E2C396", angle: 1 }, // Venus-like
            { dist: 140, size: 20, speed: 0.02, color: "#4A90E2", angle: 2 },  // Earth-like
            { dist: 180, size: 14, speed: 0.015, color: "#E57373", angle: 3 }, // Mars-like
            { dist: 240, size: 40, speed: 0.008, color: "#D4A373", angle: 4 }, // Jupiter-like
            { dist: 300, size: 34, speed: 0.006, color: "#F4E1A1", angle: 5 }  // Saturn-like
        ];

        window.onload = function () {

            basic.start();
            page.color = "#0B0B15"; // Deep space dark

            // Create Stars Background
            for (let i = 0; i < 50; i++) {
                const size = random(1, 3);
                const star = Box(random(0, page.width), random(0, page.height), size, size, {
                    color: "white",
                    opacity: random(2, 8) / 10,
                    round: size
                });
            }

            // SUN
            sun = Box(0, 0, 80, 80, {
                color: "#FFD700",
                round: 50,
                // Add glow effect using box-shadow
            });
            that.center();
            that.elem.style.boxShadow = "0 0 40px rgba(255, 215, 0, 0.6)";

            // Create Planets
            for (let i = 0; i < planetData.length; i++) {
                const p = planetData[i];

                // Orbit Path (Visual only)
                const orbit = Box(0, 0, p.dist * 2, p.dist * 2, {
                    color: "transparent",
                    border: 1,
                    borderColor: "rgba(255, 255, 255, 0.1)",
                    round: 1000 // Make it circular
                });
                that.center();
                that.clickable = 0; // Pass clicks through

                // Planet Object
                const planet = Box(0, 0, p.size, p.size, {
                    color: p.color,
                    round: 50
                });
                // Add shadow for 3D effect
                that.elem.style.boxShadow = "inset -2px -2px 6px rgba(0,0,0,0.5)";

                // Store reference to update in loop
                p.obj = planet;
                planets.push(p);
            }

            // Start Animation Loop
            setLoopTimer(16); // ~60 FPS

        };

        const loop = function () {

            const centerX = page.width / 2;
            const centerY = page.height / 2;

            for (let i = 0; i < planets.length; i++) {
                const p = planets[i];

                // Update angle
                p.angle += p.speed;

                // Calculate position
                // x = center + cos(angle) * radius
                // y = center + sin(angle) * radius
                // Subtract half size to center the planet object itself
                const x = centerX + Math.cos(p.angle) * p.dist - (p.size / 2);
                const y = centerY + Math.sin(p.angle) * p.dist - (p.size / 2);

                p.obj.left = x;
                p.obj.top = y;
            }

        };

    </script>

</head>

<body>

    <!-- HTML content -->

</body>

</html>